\documentclass[11pt]{article}
\usepackage{spikey}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{soul}
\usepackage{float}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{chngcntr}
\usepackage{centernot}
\usepackage[shortlabels]{enumitem}

\usepackage[margin=1truein]{geometry}

\title{MAT237: Multivariable Calculus}
\date{\today}
\author{Tianyu Du}

\counterwithin{equation}{subsection}
\counterwithin{theorem}{subsection}
\counterwithin{lemma}{subsection}
\counterwithin{corollary}{subsection}
\counterwithin{proposition}{subsection}
\counterwithin{remark}{subsection}
\counterwithin{example}{subsection}
\counterwithin{definition}{subsection}

\begin{document}
	\maketitle
	\tableofcontents
	\newpage
	
	\section{Limits, continuity, and related topics}
	\section{Differentiation and related topics}
		\subsection{}
		\subsection{}
		\subsection{}
		\subsection{}
		\subsection{}
		\subsection{}
		\subsection{}
		\subsection{Optimization}
			\begin{theorem}
				Let $S \subset \R^n$ be an open set and $f, g: S \to \R$ be $C^1$ functions. If $\tbf{x}$ is a \emph{local extremal} satisfying $g(\tbf{x}) = 0$, and \red{$\nabla g(\tbf{x}) \neq 0$}, then
				\begin{equation}
					\exists \lambda \in \R\ s.t.\ \begin{cases}
						\nabla f(\tbf{x}) = \lambda \nabla g(\tbf{x}) \\
						g(\tbf{x}) = 0
					\end{cases}
				\end{equation}
			\end{theorem}
			
			\begin{lemma}
				$\nabla g(\tbf{x})$ is \ul{orthogonal} to the constraint set $g^{-1}(0)$.
			\end{lemma}
			
			\begin{proposition}
				Equations (2.8.1) $\implies$ $\nabla f(\tbf{x}) \perp g^{-1}(0)$ at \tbf{x}.
			\end{proposition}
			
			\begin{theorem}
				Let $S \subseteq \R^n$ be an open set, and $f, \{g_i\}_{i=1}^k : S \to \R$ be $C^1$ functions. Define $\ve{g}(\ve{x}): \R^n \to \R^k \equiv (g_1(\ve{x}), g_2(\textbf{x}), \dots, g_k(\ve{x}))$. \\
				If $\textbf{x} \in S$ is a \emph{local extremal} of $f$ such that $\textbf{g}(\textbf{x}) = \textbf{0}$, and $\{\nabla g_i(\textbf{x})\}$ are \ul{linearly independent} (i.e. $rank(D\textbf{g}(\textbf{x})) = k$), then
				\begin{equation}
					\exists \boldsymbol{\lambda} \in \R^k\ s.t.\ \begin{cases}
						\nabla f(\textbf{x}) = \boldsymbol{\lambda}^T D\textbf{g}(\textbf{x}) \\
						\textbf{g}(\textbf{x}) =\textbf{0}
					\end{cases}
				\end{equation}
			\end{theorem}
			
			\begin{remark}Procedure of optimization on \emph{open sets}:
				\begin{enumerate}[(i)]
					\item Find all critical points.
					\item Find optimizers among critical points.
				\end{enumerate}
			\end{remark}
			
			\begin{remark}Procedure of optimization with \emph{inequality constraints}:
				\begin{enumerate}[(i)]
					\item Find critical points without the constraints.
					\item Find critical points on the constraints.
					\item Find optimizers among candidates.
				\end{enumerate}
			\end{remark}
	
	\section{The Implicit and Inverse Function Theorems}
		\subsection{The Implicit Function Theorem I}
			\begin{theorem}[Implicit Function Theorem]
				Let $S \subseteq \R^{n+k}$ be an open set, and function $F: S \to \R^k$ be a $C^1$ function. Suppose there exists point $\textbf{a} \in \R^n, \ve{b} \in \R^k$ such that 
				\begin{equation}
					F(\textbf{a}, \textbf{b}) = \textbf{0}
				\end{equation}
				If 
				\begin{equation}
					det(D_{\textbf{y}}(F(\textbf{a}, \textbf{b}))) \neq 0
				\end{equation}
				then there exists $r_0, r_1 > 0$ and a $C^1$ function $\ve{f}: \R^n \to \R^k$ such that
				\begin{gather}
					\forall \ve{x} \in \mc{B}(r_0, \ve{a}),\ \ve{f}(\ve{x}) \in \mc{B}(r_1, \ve{b}) \land F(\ve{x}, \ve{f}(\ve{x})) = \ve{0}
				\end{gather}
				and define $\textbf{y} \equiv \textbf{f}(\textbf{x})$, the derivative of $\textbf{f}$ can be found as
				\begin{equation}
					D\textbf{f}(\textbf{x}) = -[D_{\textbf{y}}F(\textbf{x}, \textbf{y})]^{-1} D_{\textbf{x}}F(\textbf{x}, \textbf{y})
				\end{equation}
			\end{theorem}
			\begin{remark}
				Procedure to prove solvability of non-linear equations
				\begin{equation}
					\ve{F}(\ve{x}, \ve{y}) = \ve{0}
				\end{equation}
				near $(\ve{a}, \ve{b})$.
				\begin{enumerate}[(i)]
					\item Verify $\ve{F}(\ve{a}, \ve{b}) = \ve{0}$.
					\item Assert
					\begin{equation}
						det(D_\ve{y}\ve{F}(\ve{a}, \ve{b})) \neq 0
					\end{equation}
					\item Approximate solution $\ve{y} = \ve{f}(\ve{x})$ using 
					\begin{gather}
						\ve{f}(\ve{x} + \ve{h}) \approx \ve{a} + D\ve{f}(\ve{a}) \ve{h} \\
						= \ve{a}
						- [D_\ve{y} \ve{F}(\ve{a}, \ve{b})]^{-1}
						D_\ve{x} \ve{F}(\ve{a}, \ve{b})
					\end{gather}
				\end{enumerate}
			\end{remark}
		\subsection{Geometric content of the Implicit Function Theorem}
			\begin{definition}
				Let $S \subseteq \R^n$ and $\ve{a} \in S$. $S$ is \textbf{singular} at $\ve{a}$ if 
				\begin{equation}
					\forall r > 0\ S \cap \mc{B}(r, \ve{a}) \tx{ cannot be represented as a $C^1$ graph.}
				\end{equation}
				$S$ is \textbf{regular} at $\ve{a}$ is its not singular there.
			\end{definition}
			
			\begin{theorem}[$k$ dimensional manifold as level set]
				Let $U \subseteq \R^n$ and let $\ve{F}: U \to \R^{n-k}$ be a $C^1$ function.
				\begin{equation}
					S \equiv \ve{F}^{-1}(\ve{0})
				\end{equation}
				Let $\ve{a} \in U$, if 
				\begin{equation}
					rank(D\ve{F}(\ve{a})) = n - k
				\end{equation}
				then $\exists r > 0$ such that the \emph{level set of $\ve{F}$ near $\ve{a}$}
				\begin{equation}
					\mc{B}(r, \ve{a}) \cap S
				\end{equation}
				can be represented as a $C^1$ graph.
			\end{theorem}
			
			\begin{theorem}[$k$ dimensional manifold as parameterization]
				Let $T \subseteq \R^k$ and let $\ve{f}: U \to \R^n$ be a $C^1$ function.
				\begin{equation}
					S \equiv \ve{f}(T)
				\end{equation}
				Let $\ve{t} \in T$, if
				\begin{equation}
					rank(\ve{f}(\ve{t})) = k
				\end{equation}
				then $\exists r > 0$ such that the \emph{parameterization of $\ve{f}$ near $\ve{t}$}
				\begin{equation}
					\ve{f}(T \cap \mc{B}(r, \ve{t}))
				\end{equation}
				can be represented as a $C^1$ graph.
			\end{theorem}
		\subsection{Transformations, and the Inverse Function Theorem}
			\begin{example}[Polar coordinate in $\R^2$]
				Let
				\begin{gather}
					U \equiv \{(r, \theta): r > 0 \land \theta \in (-\pi, \pi)\} \\
					V \equiv \R^2 \backslash \{(x,0): x \leq 0\}
				\end{gather}
				Define $\ve{f}: U \to V$ as
				\begin{equation}
					\ve{f}(r, \theta) \equiv \begin{pmatrix}
 						r\cos(\theta) \\
 						r\sin(\theta)
 					\end{pmatrix}
				\end{equation}
			\end{example}
			
			\begin{example}[Spherical coordinate in $\R^3$]
				Define
				\begin{equation}
					\ve{f}(r, \theta, \varphi) = \begin{pmatrix}
						r \cos(\theta) \sin(\varphi) \\
						r \sin(\theta) \sin(\varphi) \\
						r\cos(\varphi)
					\end{pmatrix}
				\end{equation}
			\end{example}
			
			\begin{example}[Cylindrical coordinate in $\R^3$]
				Define
				\begin{equation}
					\ve{f}(r, \theta, z) = \begin{pmatrix}
						r \cos(\theta) \\
						r \sin(\theta) \\
						z
					\end{pmatrix}
				\end{equation}
			\end{example}
			
			\begin{theorem}[Inverse Function Theorem]
				Let $U$ and $V$ be open subsets in $\R^n$, and $\ve{f}: U \to V$. Let $\ve{a} \in U$ and define $\ve{b} \equiv \ve{f}(\ve{a}) \in V$. If
				\begin{equation}
					det(D\ve{f}(\ve{a})) \neq 0
				\end{equation}
				then there exists $M \subseteq U$ and $N \subseteq V$ such that
				\begin{enumerate}[(i)]
					\item $\ve{a} \in M$ and $\ve{b} \in N$,
					\item $\ve{f}$ is bijective between $M$ and $N$,
					\item $\ve{f}^{-1}: N \to M$ is $C^1$,
				\end{enumerate}
					and \red{for all $\ve{x} \in M$} such $\ve{y} \equiv \ve{f}(\ve{x}) \in N$,
					\begin{equation}
						D \ve{f}^{-1} (\ve{y}) = [D \ve{f} (\ve{x})]^{-1}
					\end{equation}
			\end{theorem}
	
	\section{Integration}
		\subsection{Basics}
			\begin{theorem}[\red{Properties of infimum and supremum}]
				Let $A \subseteq \R^n$ and $A \neq \emptyset$, and $f, g: A \to \R$ are bounded functions. Let $m$ and $M$ denote the infimum and supremum respectively, then
				\begin{enumerate}[(i)]
					\item $m_A f + m_A g \leq m_A (f+g) \leq M_A (f+g) \leq M_A f + M_A g$
					\item If $A' \subseteq A$, then $m_A f \leq m_{A'} f \leq M_{A'} f\leq M_A f$
					\item If $f(\ve{x}) \leq g(\ve{x})\ \forall \ve{x} \in A$, then $m_A f \leq m_A g$ and $M_A f \leq M_A g$
					\item $|M_A f| \leq M_A |f|$
					\item $M_A |f| - m_A |f| \leq M_A f - m_A f$
					\item $\forall c \in \R$, $M_A (cf) - m_A (cf) = |c| (M_A f - m_A f)$
					\item $M_A f - m_A f = sup\{f(x) - f(y): x, y \in A\}$
				\end{enumerate}
			\end{theorem}
			
		\subsection{Integration on Higher Dimensions}
			\begin{definition}
				A \textbf{rectangle} $\mc{R} \subseteq \R^n$ is defined as
				\begin{equation}
					\mc{R} \equiv \prod_{i=1}^n [a_i, b_i]
				\end{equation}
				where $a_i, b_i \in \R$ and $a_i < b_i$.
			\end{definition}
			
			\begin{definition}
				A \textbf{partition} $P$ of rectangle $\mc{R} = \prod_{i=1}^n [a_i, b_i]$ is a list of $n$ \red{finite} and increasing list of real numbers
				\begin{equation}
					P = \{L_1, L_2, \dots, L_n\}
				\end{equation}
				where $L_i = \{e_j\}_{j=0}^{T_i}$ such that
				\begin{equation}
					a_i = e_0 < e_1 < \cdots < e_{T_i} = b_i
				\end{equation}
				and such partition induces a set of rectangles(boxes) $\mc{B}(P) \equiv \{B_j\}_{j=1}^J \subseteq \mc{R}$.
			\end{definition}
			
			\begin{definition}
				Let $P$ and $P'$ be two partitions of $\mc{R}$. Then $P'$ is a \textbf{refinement} of $P$ if 
				\begin{equation}
					\forall B_j \in \mc{B}(P), B_j' \in \mc{B}(P')\quad B_j' \subseteq B_j \lor B_j^{' int} \cap B_j^{int} = \emptyset
				\end{equation}
			\end{definition}
			
			\begin{definition}
				Define the \textbf{volume} of rectangle $\mc{R} = \prod_{i=1}^n [a_i, b_i]$ as
				\begin{equation}
					V^n(\mc{R}) \equiv \prod_{i=1}^n (b_i - a_i)
				\end{equation}
			\end{definition}
			
			\begin{definition}
				The \textbf{lower Riemann sum} of $f$ with partition $P$ on $\mc{R}$ is defined as
				\begin{equation}
					L_P f \equiv \sum_{B_j \in \mc{B}(P)} \inf_{\ve{x} \in B_j} f(\ve{x}) V^n(B_j)
				\end{equation}
				and the \textbf{upper Riemann sum} is defined as
				\begin{equation}
					U_P f \equiv \sum_{B_j \in \mc{B}(P)} \sup_{\ve{x} \in B_j} f(\ve{x}) V^n(B_j)
				\end{equation}
			\end{definition}
			
			\begin{definition}
				The \textbf{upper integral} and \textbf{lower integral} of $f$ on $\mc{R}$ are defined as
				\begin{gather}
					\bar{I}_{\mc{R}} f \equiv \inf_{P} U_P f \\
					\underline{I}_{\mc{R}} f \equiv \sup_{P} L_P f
				\end{gather}
			\end{definition}
			
			\begin{definition}
				A bounded real-valued function $f$ defined on $\mc{R}$ is \textbf{integrable} if
				\begin{equation}
					\underline{I}_{\mc{R}} f = \bar{I}_{\mc{R}} f
				\end{equation}
				and the integral is defined as
				\begin{equation}
					\int \cdots \int_\mc{R} f\ dV^n \equiv \underline{I}_{\mc{R}} f = \bar{I}_{\mc{R}} f
				\end{equation}
			\end{definition}
			
			\begin{lemma}
				Let $f$ be a bounded real-valued function defined on $\mc{R}$, $f$ is integrable if and only if $\forall \epsilon > 0$, there exists a partition $P$ of $\mc{R}$ such that
				\begin{equation}
					U_P f - L_P f < \epsilon
				\end{equation}
			\end{lemma}
			
			\begin{theorem}
				Let $f$ and $g$ be two integrable functions on $\mc{R} \subseteq \R^n$, let $c \in \R$, 
				\begin{enumerate}[(i)]
					\item $f+g:\mc{R} \to \R$ is integrable and $\int_\mc{R} (f+g) = \int_\mc{R} f + \int_\mc{R} g$
					\item $c \cdot f$ is integrable and $\int_\mc{R} c \cdot f = c \int_\mc{R} f$
					\item $f(\ve{x}) \geq g(\ve{x})\ \forall \ve{x} \in \mc{R} \implies \int_\mc{R} f \geq \int_\mc{R} g$
					\item $|f|$ is integrable and $|\int_{R} f| \leq \int_{R} |f|$
				\end{enumerate}
			\end{theorem}
			
			\begin{definition}
				Let $S \subseteq \R^n$ be a bounded set, and there exists rectangle $\mc{R}$ covers $S$, the \textbf{indicator function} of $S$ is $\chi_S: \mc{R} \to \{0, 1\}$, defined as
				\begin{equation}
					\chi_S (\ve{x}) \equiv \mathbb{I}(\ve{x} \in S)
				\end{equation}
			\end{definition}
			
			\begin{definition}
				Let $S \subseteq \R^n$ be a bounded set, and there exists rectangle $\mc{R}$ covers $S$. Let $f: \mc{R} \to \R$ be a bounded function, then $f$ is \textbf{integrable on $S$} if $\chi_S f$ is integrable on $\mc{R}$. And
				\begin{equation}
					\int \cdots \int_S f\ dV^n \equiv \int \cdots \int_\mc{R} \chi_S f\ dV^n
				\end{equation}
			\end{definition}
			
			\begin{definition}
				Let $Z \subseteq \R^n$, $Z$ has \textbf{zero content} if for all $\epsilon > 0$, there exists a \ul{finite} set of rectangles $\{R_\ell\}_{\ell=1}^L$ covers $Z$ and
				\begin{equation}
					\sum_{\ell=1}^L V^n (R_\ell) < \epsilon
				\end{equation}
			\end{definition}
			
			\begin{proposition}
				Let $Z \subseteq \R^n$ has zero content, then
				\begin{enumerate}[(i)]
					\item For any $Z' \subseteq Z$, $Z'$ has zero content.
					\item \ul{Finite} union of content zero sets has zero content.
					\item \red{Let $f: [a, b] \to \R$ be an integrable function, it's graph $\{(x, f(x)): x \in [a, b]\}$ has zero content.}
					\item \red{Let $\ve{f}: [a, b] \to \R^2$ be a $C^1$ function, the parameterization $\ve{f}([a,b])$ has zero content.}
				\end{enumerate}
			\end{proposition}
			
			\begin{theorem}
				Let $\mc{R}$ be a rectangle in $\R^n$ and $f$ is integrable on $\mc{R}$ if
				\begin{equation}
					\{\ve{x} \in \mc{R}: f \tx{ is discontinuous at \ve{x}}\}
				\end{equation}
				has zero content.
			\end{theorem}
			
			\begin{proposition}[Folland 4.22]
				Suppose $Z \subseteq \R^n$ has zero content. If $f: \R^n \to \R$ is bounded, then $f$ is integrable on $Z$ and $\int_Z f\ dV^n = 0$.
			\end{proposition}
			
		\subsection{Iterated Integrals}
			\begin{theorem}[Fubini's Theorem]
				Let $\mc{R} = [a,b] \times [c,d] \subseteq \R^2$ and $f: \mc{R} \to \R$ is bounded. Assuming that
				\begin{enumerate}[(i)]
					\item $f$ is integrable on $\mc{R}$.
					\item for each $y \in [c,d]$, the function $f_y(x) \equiv f(x,y)$ is integrable on $[a,b]$.
					\item Define $g(y) \equiv \int_a^b f(x, y) dy$ is integrable on $[c,d]$.
				\end{enumerate}
				Then 
				\begin{equation}
					\iint_\mc{R} f\ dA = \int_c^d \Big ( \int_a^b f(x,y)\ dx\Big)dy
				\end{equation}
			\end{theorem}
		
		\begin{proposition}
			Let $S \subseteq \R^n$ be an unbounded set, and $f: S \to \R$.
			Then improper integral $\idotsint_{S} f\ d^n \ve{x}$ is absolutely convergent on $\R^n$ \ul{if and only if} $\idotsint_{\R^n} \chi_S f\ d^n \ve{x}$ is absolutely convergent.
		\end{proposition}
	
		\subsection{Change of Variables}
			\begin{theorem}[Change of Variable]
				Let $U$ and $V$ be two open subsets of $\R^n$, and let $\ve{G}: U \to V$ be a $C^1$ bijection. Let $T \subset U$ and $S \subset V$. Suppose $\ve{G}(T) = S$, then
				\begin{equation}
					\int \cdots \int_S f\ d\Omega = \int \cdots \int_T f\circ\ve{G}\ |\tx{det}D\ve{G}|\ d\Theta
				\end{equation}
			\end{theorem}
			
			\begin{corollary}
				Let $S$ be a region in $\R^n$, suppose $S$ can be parameterized by $\ve{G}: T \to S$. By the change of variable formula, consider the special case $f(\ve{x})=1$, 
				\begin{equation}
					|S| = \int \cdots \int_S 1\ d\Omega = \int \cdots \int_T 1\ |\tx{det }D\ve{G}(\ve{u})|\ d\Theta
				\end{equation}
			\end{corollary}
			
			\begin{example}[Polar Coordinate]
				Define the coordinate transformation mapping from polar to Cartesian,
				\begin{equation}
					\ve{P}(r, \theta) \equiv (x, y) = 
					\begin{pmatrix}
						r \cos{\theta} \\
						r \sin{\theta}
					\end{pmatrix},\ \theta \in [0, 2\pi]\ r \in \R_{+}
				\end{equation}
				and $|\tx{det }D\ve{P}(r, \theta)| = r$.
			\end{example}
			
			\begin{example}[Cylindrical Coordinate]
				Define the coordinate transformation mapping from cylindrical to Cartesian as
				\begin{equation}
					\ve{C}(r, \theta, z) \equiv (x, y, z) = 
					\begin{pmatrix}
						r \cos{\theta} \\
						r \sin{\theta} \\
						z
					\end{pmatrix},\ \theta \in [0, 2\pi]\ r \in \R_{+}\ z \in \R
				\end{equation}
				and $|\tx{det }D\ve{C}(r, \theta, z)| = r$.
			\end{example}
			
			\begin{example}[Spherical Coordinate]
				Define the coordinate transformation mapping from spherical to Cartesian as
				\begin{equation}
					\ve{S}(r, \theta, \varphi) = 
					\begin{pmatrix}
						r \cos{\theta} \sin{\varphi} \\
						r \sin{\theta} \sin{\varphi} \\
						r \cos{\varphi}
					\end{pmatrix}
				\end{equation}
				and $|\tx{det }D\ve{S}(r, \theta, \varphi)| = \red{r^2 \sin{\varphi}}$
			\end{example}
	
		\subsection{Further Aspects}
			\subsubsection{Exchanging Differentiation and Integration}
			
			\begin{theorem}[Exchanging Differentiation and Integration]
				Let $f(\ve{x}, \ve{t}): S \times T \to \R$ and define $F(\ve{x}): S \to \R$ as 
				\begin{equation}
					F(\ve{x}) \equiv \int \cdots \int_T f(\ve{x}, \ve{t})\ d\Omega
				\end{equation}
				If both
				\begin{enumerate}[(i)]
					\item $f$ and $F$ are continuous on their domains;
					\item and $\forall\ x_j \in \ve{x}$, $\pd{f(\ve{x}, \ve{t})}{x_j}$ is continuous,
				\end{enumerate}
				then $F$ is $C^1$ in $S$ and for every $j$,
				\begin{equation}
					\pd{F(\ve{x})}{x_j} = \idotsint_T \pd{f(\ve{x}, \ve{t})}{x_j}\ d\Omega
				\end{equation}
			\end{theorem}
	
			\begin{corollary}
				By the definition of partial derivative, above theorem is equivalent to 
				\begin{equation}
					\lim_{h \to 0} \idotsint_T \frac{f(\ve{x}, \ve{t})}{h}\ d\Omega = \idotsint_T \lim_{h \to 0} \frac{f(\ve{x}, \ve{t})}{h}\ d\Omega
				\end{equation}
			\end{corollary}
			
			\subsubsection{Improper Integrals}
				\begin{definition}[Unbounded Domains]
					An \textbf{improper integral} with unbounded domain $\idotsint_{\R^n} f\ d\Omega$ is \textbf{absolutely convergent} if there exists $L \in \R$ such that
					\begin{equation}
						\forall \varepsilon > 0\ \exists R > 0\ s.t.\ \forall S \subseteq \R^n\ B(R, \ve{0}) \subset S \implies \Big|\idotsint_S f\ d\Omega - L \Big| < \varepsilon
					\end{equation}
				\end{definition}
				
				\begin{theorem}
					Let $f: \R^n \to \R$ be a continuous function, and that 
					\begin{equation}
						\lim_{R \to \infty} \idotsint_{B(R, \ve{0})}\red{|}f\red{|}\ d\Omega \tx{ exists}
					\end{equation}
					then $\idotsint_{\R^n}f\ d\Omega$ is absolutely convergent.
				\end{theorem}
				
				\begin{corollary}[Equivalence]
					Above improper integral $\idotsint_{\R^n}f\ d\Omega$ is absolutely convergent if set
					\begin{equation}
						\{\idotsint_{B(R, \ve{0})}\red{|}f\red{|}\ d\Omega: R \in \R_{++}\}
					\end{equation}
					is bounded.
				\end{corollary}
				
				\begin{corollary}
					Let $f: \R^n \to \R$ be an continuous function, if 
					\begin{equation}
						\exists p > n,\ C > 0\ s.t.\ |f(\ve{x})| \leq \frac{1}{\norm{\ve{x}}^p}\ \forall \ve{x} \in \R^n
					\end{equation}
					then $\idotsint_{\R^n}f\ d\Omega$ is absolutely convergent.
				\end{corollary}
	
				\begin{definition}[Unbounded Function]
					Let $S \subset \R^n$, $\ve{a} \in \R^n$. Consider a function $f: S \backslash \{\ve{a}\} \to \R$. Then the improper integral $\idotsint_{\red{S}}f d\Omega$ is absolutely convergent if 
					\begin{equation}
						\exists L \in \R\ s.t\ \forall \varepsilon > 0\ \exists r > 0\ s.t.\ \forall U \subset S\ s.t.\ \ve{a} \in U^{int} \land U \subset B(r, \ve{a}),\ \Big|
							\idotsint_{S \backslash U}f\ d\Omega - L
						\Big| < \varepsilon
					\end{equation}
				\end{definition}
				
				\begin{theorem}
					Let $f: S\backslash \{\ve{a}\} \to \R$, if
					\begin{equation}
						\lim_{r\to 0}\idotsint_{S \backslash B(r, \ve{a})}\red{|}f\red{|}\ d\Omega \tx{ exists}
					\end{equation}
					then $\idotsint_S f\ d\Omega$ is absolutely convergent.
				\end{theorem}
				
				\begin{corollary}[Equivalence]
					If the set
					\begin{equation}
						\{\iint_{S \backslash B(r, \ve{a})} \red{|}f\red{|}\ d\Omega: r \in \R_{++}\}
					\end{equation}
					is bounded, then $\idotsint_S f\ d\Omega$ is absolutely convergent.
				\end{corollary}
				
				\begin{corollary}
					Let $f: S\backslash \{\ve{a}\} \to \R$, if 
					\begin{equation}
						\exists p < n,\ C > 0\ s.t. |f(\ve{x})| \leq \frac{C}{\norm{\ve{x} - \ve{a}}^p}\ \forall \ve{x} \in S \backslash \{\ve{a}\}
					\end{equation}
					then the improper integral $\idotsint_S f\ d\Omega$ is absolutely convergent.
				\end{corollary}
				
	\section{Vector Calculus}
		\subsection{Line Integrals}
		\subsubsection{Arc Length}
			\begin{definition}
				Let $C$ be a smooth curve in $\R^n$ parameterized by $C^1$ function $\ve{g}$ such that $\ve{g}'(t) \neq \ve{0}$ for every appropriate $t$.
				\begin{equation}
					C \equiv \{\ve{g}(t): t \in [a, b]\}
				\end{equation}
				and the \textbf{arc length} of $C$ is defined as
				\begin{gather}
					\int_C d^n\ve{x} \equiv \int_C ds \equiv \int_a^b ||\ve{g}'(t)||\ dt
				\end{gather}
			\end{definition}
			
			\begin{proposition}
				The arc length of a curve $C$ is an intrinsic property of the geometric object $C$ and should not depend on the particular parameterization we use.
				\begin{proof}
					Let $\varphi:[c,d] \to [a,b]$ be a bijection, so that $\ve{h} \equiv \ve{g} \circ \varphi$ is also a valid parameterization of $C$ such that
					\begin{equation}
						C \equiv \{\ve{h}(u): u \in [c, d]\}
					\end{equation}
					The arc length of $C$ can be computed using
					\begin{gather}
						\int_C ds = \int_c^d ||\ve{h}'(u)||\ du \\
						= \int_c^d ||\ve{g}'(\varphi(u))|| \times ||\varphi'(u)||\ du \\
						= \int_a^b ||\ve{g}'(t)||\ dt \tx{ by change of variable formula.}
					\end{gather}
				\end{proof}
			\end{proposition}
			
			\begin{remark}[Interpretations]Suppose $\ve{g}$ is a parameterization of $C$.
				\begin{enumerate}[(i)]
					\item $\int_a^b \ve{g}'(t)\ dt = \ve{g}(b) - \ve{g}(a)$ measures the distance between two endpoints of $C$. 
					\item Choosing a parameterization is effectively choosing an \textbf{orientation} for the curve $C$.
				\end{enumerate}
			\end{remark}
			
			\begin{definition}
				A function $\ve{g}: [a, b] \to \R^n$ is called \textbf{piecewise smooth} if 
				\begin{enumerate}[(i)]
					\item it's \emph{continuous}, and 
					\item it's derivate exists and is continuous except at finitely many points $t_j$, at which the one-sided limits exists.
				\end{enumerate}
			\end{definition}
		
		\subsubsection{Line Integrals of Scalar Functions}
			\begin{definition} Let smooth curve $C \subseteq \R^n$, $f: C \to \R$ and $\ve{g}$ be a parameterization of $C$, then 
				\begin{equation}
					\int_C f\ ds = \int_a^b f(\ve{g}(t))\ ||\ve{g}'(t)||\ dt
				\end{equation}
			\end{definition}
			
			\begin{remark}
				The line integrals of scalar functions are also independent from the choices of parameterizations.
			\end{remark}
			
			\begin{definition}
				\begin{equation}
					\tx{Average of $f$ over $C$} \equiv \frac{\int_C f\ ds}{\int_C\ ds}
				\end{equation}
			\end{definition}
			
		\subsubsection{Line Integrals of Vector Fields}
			\begin{definition} Let smooth $C \in \R^n$ with parameterization $\ve{g}$ and $\ve{F}: C \to \R^n$ defined on it, the \textbf{line integral} of $\ve{F}$ over $C$ is defined as 
				\begin{equation}
					\int_C \ve{F}\cdot d\ve{x} = \int_a^b \ve{F}(\ve{g}(t)) \cdot \ve{g}'(t)\ dt
				\end{equation}
			\end{definition}
			
			\begin{proposition}
				The line integral $\int_C \ve{F}\cdot d\ve{x}$ is independent of the parameterization \emph{as long as the orientation is unchanged}.
			\end{proposition}
			
		\subsubsection{Rectifiable Curves}
			\begin{remark}
				Let $C$ be a curve in $\R^n$ parameterized by injection $\ve{g}: [a, b] \to \R^n$ such that $\ve{g}'(t) \neq \ve{0}$. Let $P$ be a partition of $[a, b]$. Denote
				\begin{equation}
					L_P(C) \equiv \sum_{j} ||\ve{g}(t_j) - \ve{g}(t_{j-})||
				\end{equation}
			\end{remark}
			
			\begin{definition}
				A curve $C$ is \textbf{rectifiable} if the set $\{L_P(C):P\}$ is bounded. And the arc length of $C$ s defined as 
				\begin{equation}
					L(C) \equiv \sup \{L_P(C):P\}
				\end{equation}
			\end{definition}
			
			\begin{theorem}
				The supremum found above, $L(C)$ is the precisely the arc length of $C$:
				\begin{equation}
					L(C) = \int_a^b ||\ve{g}'(t)||\ dt
				\end{equation}
			\end{theorem}
		
		\subsection{Green's Theorem}
			\subsubsection{Preliminary Definitions}
				\begin{definition}
					A \textbf{simple closed curve} is a curve with parameterization $\ve{g}: [a, b] \to \R^n$ where
					\begin{enumerate}[(i)]
						\item $\ve{g}$ is continuous;
						\item $\ve{g}(a) = \ve{g}(b)$;
						\item $\ve{g}$ is injective with its domain restricted to $(a, b)$.
					\end{enumerate}
				\end{definition}
				
				\begin{definition}
					A \emph{simple closed curve} is \textbf{piecewise smooth} if it has a parameterization $\ve{g}$ such that
					\begin{enumerate}[(i)]
						\item $\ve{g}$ is continuously differentiable with $\ve{g}'(t) \neq \ve{0}$ except finitely many breakpoints;
						\item $\ve{g}'(t)$ is \emph{one side continuous} at breakpoints of the curve.
					\end{enumerate}
				\end{definition}
				
				\begin{definition}
					A \textbf{regular region} $S \subseteq \R^n$ is a set satisfying both
					\begin{enumerate}[(i)]
						\item $S$ is compact;
						\item $\overline{S^{int}} = S$.
					\end{enumerate}
				\end{definition}
				
				\begin{definition}
					Let $S \subseteq \R^2$, $S$ has \textbf{piecewise smooth boundary} if $\partial S$ consists of one or more \emph{disjoint, piecewise smooth, simple closed curve}.
				\end{definition}
				
				\begin{definition}
					Let $S \subseteq \R^2$, then \textbf{positive orientation} on $\partial S$ is the orientation on each of the closed curves that make up the boundary such that the region is on the \emph{left} with respect to the positive direction on the curve.
				\end{definition}
				
				\begin{theorem}[Green's Theorem]
					Suppose $S \subseteq \R^2$ is a regular region with piecewise smooth region $\partial S$. Suppose $\ve{F}$ is a $C^1$ vector field defined on $\overline{S}$, then
					\begin{equation}
						\int_{\partial S} \ve{F}\cdot d\ve{x} = \iint_S \Big(\pd{F_2}{x_1} - \pd{F_1}{x_2}\Big)\ dA
					\end{equation}
				\end{theorem}
				
				\begin{corollary}
					Suppose $S$ is a regular region in $\R^2$ with piecewise smooth boundary $\partial S$, and let $\ve{n}(\ve{x})$ be the \emph{unit outward normal} vector to $\partial S$ at $\ve{x} \in \partial S$. Suppose also that $\ve{F}$ is a vector field defined on $\overline{S}$, then
					\begin{equation}
						\int_{\partial S} \ve{F} \cdot \ve{n}\ ds = \iint_S \Big(\pd{F_1}{x_1}  + \pd{F_2}{x_2}\Big)\ dA
					\end{equation}
%						\begin{proof}
%							
%						\end{proof}
				\end{corollary}
		\subsection{Surface Integrals}
			\subsubsection{Surface Areas and Surface Integrals}
				\begin{definition}
					Suppose $S$ is a surface in $\R^3$ and parameterized by
					\begin{equation}
						\ve{G}(\ve{u}): R \to S
					\end{equation}
					where $rank(D\ve{G}(\ve{u}))=2$ for every $\ve{u} \in R \backslash Z$ where $Z$ is a probably empty set with zero content. If $\norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}$ is integrable, then
					\begin{equation}
						Area(S) \equiv \iint_{\red{R}} \norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta
					\end{equation}
				\end{definition}
				
				\begin{definition}
					Let $f: S \to \R$ be a real-valued continuous function defined on a super set of $S$, the \textbf{integral of a real-valued function on a surface} is defined as
					\begin{equation}
						\iint_{S}f(\ve{x})\ dA 
						\equiv \iint_{\red{R}} f(\ve{G}(\ve{u}))\norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta
					\end{equation}
				\end{definition}
				
				\begin{definition}
					Let $\ve{F}: S \to \R^3$ be a continuous vector field defined on a super set of $S$, the \textbf{integral of vector field on a surface} is defined as
					\begin{equation}
						\iint_{S}\ve{F}(\ve{x}) \cdot \ve{n}\ dA
						\equiv \iint_{\red{R}} \ve{F}(\ve{G}(\ve{u}))\cdot (\pd{\ve{G}}{u} \times \pd{\ve{G}}{v})\ d\Theta
					\end{equation} 
				\end{definition}
				
				\begin{remark}
					Surface integrals of \hl{real-valued functions} are independent of the choice of parametrization.
				\end{remark}
				
				\begin{remark}
					But the choice of parameterization can change the sign of surface integrals of \hl{vector fields}. We need to \hl{choose the direction of the normal, $\ve{n}$}.
				\end{remark}
				
				\begin{definition}
					Let $S \subseteq \R^3$ be a two dimensional sub-manifold, and $f$ is a real-valued function defined on a super set of $S$. Define the \textbf{average of $f$ over $S$} as
					\begin{equation}
						\tx{aver of $f$ over $S$} \equiv \frac{\iint_S f\ dA}{\iint_S1\ dA}
					\end{equation}
				\end{definition}
				
				\begin{remark}
					A note on the relation between integrals of a vector field and a real-valued function. The surface of vector field $\ve{F}$ on $S$ is defined by \emph{reducing $\ve{F}$ to a real-valued function $\ve{F}\cdot \ve{n}$} and then follow the definition of ordinary real-valued function on $S$. Define $h \equiv \ve{F} \cdot \ve{n}$,
					\begin{gather}
						\iint_S \ve{F} \cdot \ve{n}\ dA = \iint_S h\ dA \\
						\equiv \iint_R h(\ve{G}(\ve{u})) \norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta \\
						= \iint_R \ve{F}(\ve{G}(\ve{u})) \cdot \ve{n}(\ve{G}(\ve{u})) \norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta \\
						= \iint_R \ve{F}(\ve{G}(\ve{u})) \cdot \frac{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}{\norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}} \norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta \\
						= \iint_R \ve{F}(\ve{G}(\ve{u})) \cdot (\pd{\ve{G}}{u} \times \pd{\ve{G}}{v})\ d\Theta
					\end{gather}
				\end{remark}
			\subsubsection{An invariance property}
				\begin{remark}
					As mentioned above, given $\ve{n}(\ve{x})$ fixed, we can define the surface integral of \ul{vector field} as the surface integral of a \ul{real-valued function} defined as $h(\ve{x}) \equiv \ve{F}(\ve{x}) \cdot \ve{n}(\ve{x})$. And as argued before, one $\ve{n}$ is fixed (i.e. orientation is fixed), the value of integral is deterministic. Therefore we can conclude \hl{the integral of a vector field $\ve{F}$ over a surface $S$ depends on the \textbf{orientation} of $S$ but otherwise independent of the parameterization}.
				\end{remark}
				
				\begin{remark}
					Let $S \subseteq \R^2$ be a two dimensional sub-manifold parameterized by $\ve{G}: R \subseteq \R^2 \to \R^3$ such that $rank(\ve{G}(\ve{u})) = 2$ for all but zero-content sets on its domain. \\
					Let $\varphi: W\subseteq \R^2 \to R$ be a bijection such that $\ve{H} \equiv \ve{G} \circ \varphi: W \to \R^3$ is another parameterization of $S$. \\
					Now consider the integral of vector field $\ve{F}$ under parameterization $\ve{H}$,
					\begin{gather}
						\iint_S \ve{F} \cdot \ve{u}\ dA = \iint_W \ve{F}(\ve{H}) \cdot (\pd{\ve{H}}{s} \times \pd{\ve{H}}{t})\ d\Theta \\
						= \iint_W \ve{F}\circ\ve{G}\circ\varphi \cdot (\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}) \red{det\ D\varphi}\ d\Theta \\
						= \pm \iint_R \ve{F}\circ \ve{G} \cdot (\pd{\ve{G}}{u} \times \pd{\ve{G}}{v})\ d\Theta \tx{ (change of variable)}
					\end{gather}
				\end{remark}
				
				\begin{theorem}[Invariance]
					Let $\ve{G}: R \to \R^3$ and $\ve{H} \equiv \ve{G}\circ\varphi: W \to \R^3$ be two parameterizations of $S$, then
					\begin{equation}
						\iint_R f\circ \ve{G} \norm{\pd{\ve{G}}{u} \times \pd{\ve{G}}{v}}\ d\Theta = \iint_W f\circ \ve{H} \norm{\pd{\ve{H}}{s} \times \pd{\ve{H}}{t}}\ d\Theta
					\end{equation}
					and 
					\begin{equation}
						\iint_R \ve{F}\circ \ve{G} \cdot (\pd{\ve{G}}{u} \times \pd{\ve{G}}{v})\ d\Theta 
						= \red{\pm}\iint_W \ve{F}\circ \ve{H} \cdot (\pd{\ve{H}}{u} \times \pd{\ve{H}}{v})\ d\Theta
					\end{equation}
				\end{theorem}
				
			\subsubsection{Volume and Area}
				\begin{theorem}
					Let $R$ be an arbitrary regular region in $\R^3$, and let $S$ be the boundary surface of $R$, define
					\begin{equation}
						S_h \equiv \{
							\ve{x} + \delta \ve{n}: \ve{x} \in S \land \delta \in [0, h]
						\}
					\end{equation}
					where $S_h$ can be interpreted as \emph{a shell of region $R$ with thickness $h$}. Then the surface area of $S$ is 
					\begin{equation}
						\tx{area}(S) = \lim_{h \to 0} \frac{|S_h|}{h}
					\end{equation}
				\end{theorem}
		\subsection{Divergence, Gradient and Curl}
			\begin{definition}
				Let $U \subseteq \R^n$ be an open set, and define real-valued function $f: U \to \R$ and vector field $\ve{F}: U \to \R^n$. Then we define
				\begin{enumerate}
					\item The \textbf{gradient} of $f$ as $\nabla f$;
					\item The \textbf{divergence} of $\ve{F}$ as $\nabla \cdot \ve{F}$;
					\item The \textbf{curl} of $\ve{F}$ as $\nabla \times \ve{F}$.
				\end{enumerate}
			\end{definition}
			
			\begin{definition}
				Let $f: \R^n \to \R$ be a $C^1$ real-valued function, define the \textbf{Laplacian} of $f$ as a mapping from \emph{real-valued functional space} to \emph{real-valued functional space} defined as
				\begin{equation}
					\tx{div(grad)} f \equiv \sum_{j} \partial_j^2 f = \Delta f = \nabla^2 f
				\end{equation}
			\end{definition}
			
			\begin{theorem}
				For every $C^2$ real valued function $f: \R^3 \to \R$,
				\begin{equation}
					\curl(\grad f) = \ve{0}
				\end{equation}
				For every $C^2$ vector field defined in $\R^3$ or a subset of it, 
				\begin{equation}
					\dive (\curl \ve{F}) = 0
				\end{equation}
				Note that \hl{the domain of $f$ and $\ve{F}$ must be $\R^3$ or a subset of it, otherwise the curl operation is not well-defined.}\\
			\end{theorem}
			
			\begin{theorem}[Product rules]
				\begin{align}
					\grad (fg) &= f \grad g + g \grad f \\
					\dive (f \ve{G}) &= f \dive{G} + \grad f \cdot \ve{G} \\
					\curl (f \ve{G}) &= f \curl{G} + \grad f \times \ve{G}
				\end{align}
			\end{theorem}
\end{document}























